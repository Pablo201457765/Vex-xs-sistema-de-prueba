(function(){ function renderConfigApp(){ return `<div style="padding:12px"><h2>Configuración</h2><div style="margin-top:8px"><label>Vibración <input id="vibSwitch" type="checkbox"></label></div><div style="margin-top:8px"><label>Iconos <select id="iconStyleSel"><option value="circle">Circular</option><option value="rounded">Redondeado</option><option value="square">Cuadrado</option></select></label></div><div style="margin-top:8px"><button id="changeBgBtn">Cambiar fondo (Inicio/Bloqueo)</button></div><div style="margin-top:12px"><button id="rebootBtn">Reiniciar para aplicar</button></div></div>`; }
 function renderAppContent(name){ if(name==='configuracion'){ document.getElementById('appContent').innerHTML = renderConfigApp(); bindConfigActions(); } else if(name==='galeria'){ document.getElementById('appContent').innerHTML = '<div style="padding:12px"><h2>Galería</h2><p>Selecciona una imagen para aplicarla como fondo desde Configuración.</p></div>'; } else { document.getElementById('appContent').innerHTML = '<div style="padding:12px"><h2>'+name+'</h2><p>Próximamente...</p></div>'; } }
 function bindConfigActions(){ const s=window.VXS; const vib=document.getElementById('vibSwitch'); vib.checked = s.SETTINGS.vibration; vib.addEventListener('change', ()=>{ s.SETTINGS.vibration = vib.checked; s.saveSettings(); }); const sel=document.getElementById('iconStyleSel'); sel.value = s.SETTINGS.iconStyle || 'circle'; sel.addEventListener('change', ()=>{ s.SETTINGS.iconStyle = sel.value; s.saveSettings(); s.applyIconStyle(); }); document.getElementById('changeBgBtn').addEventListener('click', ()=>{ const inp=document.createElement('input'); inp.type='file'; inp.accept='image/*'; inp.onchange = e=>{ const f = e.target.files[0]; if(!f) return; const r = new FileReader(); r.onload = ev=>{ const which = confirm('¿Aplicar a pantalla de inicio? (Aceptar=inicio, Cancelar=bloqueo)') ? 'home' : 'lock'; localStorage.setItem(which==='home'?'vxs_wall_home':'vxs_wall_lock', ev.target.result); window.VXS.applySavedBackgrounds(); alert('Fondo aplicado a '+which); }; r.readAsDataURL(f); }; inp.click(); }); document.getElementById('rebootBtn').addEventListener('click', ()=>{ alert('Se reiniciará'); setTimeout(()=> location.reload(), 600); }); }
 window.renderAppContent = renderAppContent; window.bindConfigActions = bindConfigActions; window.renderConfigApp = renderConfigApp; })();